(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{109:function(t,e,r){"use strict";r.r(e);var o={methods:{onChange(t){var{target:{files:e}}=t;this.$emit("files-change",e)}}},n=(r(230),r(7)),l=Object(n.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"atom-upload"},[e("input",{attrs:{type:"file"},on:{change:this.onChange}}),this._v(" "),e("span",[this._v("Drag & Drop File")])])}),[],!1,null,"4f04331c",null).exports,c={props:{radius:{type:Number,default:1},progress:{type:Number,default:0},stroke:{type:Number,default:1}},data(){var t=this.radius-2*this.stroke;return{normalizedRadius:t,circumference:2*t*Math.PI}},computed:{viewBox(){return"0 0 ".concat(2*this.radius," ").concat(2*this.radius)},strokeDashoffset(){return this.circumference-this.progress/100*this.circumference}}};r(232);function d(t,e,r,o,n,l,c){try{var d=t[l](c),f=d.value}catch(t){return void r(t)}d.done?e(f):Promise.resolve(f).then(o,n)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(o,n){var l=t.apply(e,r);function c(t){d(l,o,n,c,f,"next",t)}function f(t){d(l,o,n,c,f,"throw",t)}c(void 0)}))}}function v(t){return m.apply(this,arguments)}function m(){return(m=f((function*(t){t.info="initialize";var{createFFmpeg:e}=yield r.e(6).then(r.t.bind(null,273,7)),o=e({corePath:"/ffmpeg/ffmpeg-core.js",log:!0});return yield o.load(),o.setProgress(e=>{var{ratio:r}=e;t.progress=Number((100*r).toFixed(2))}),o}))).apply(this,arguments)}function h(t,e){return y.apply(this,arguments)}function y(){return(y=f((function*(t,e){var o=yield v(e),{fetchFile:n}=yield r.e(6).then(r.t.bind(null,273,7));return o.FS("writeFile",t.name,yield n(t)),o}))).apply(this,arguments)}function _(t,e,r){var{name:o}=e;return URL.createObjectURL(new Blob([t.FS("readFile","output.mp4").buffer],{type:"video/mp4"}))}function x(){return(x=f((function*(t,e){var r=yield h(t,e);return e.info="start transcoding",yield r.run("-i",t.name,"-f","lavfi","-i","sine=frequency=1:duration=600:sample_rate=48000","-ac","2","-preset","ultrafast","-filter_complex","[0:v]setpts=0.98*PTS[v];[0:a]volume=1[a0];[1:a]volume=20[a1];[a0]atempo=1.02[a00];[a00][a1]amix=inputs=2:duration=first:dropout_transition=2[a]","-map","[v]","-map","[a]","output.mp4"),e.info="finished transcoding",e.blob=_(r,t),e}))).apply(this,arguments)}function w(t,e,r,o,n,l,c){try{var d=t[l](c),f=d.value}catch(t){return void r(t)}d.done?e(f):Promise.resolve(f).then(o,n)}var k={components:{AtomUpload:l,AtomProgress:Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{viewBox:t.viewBox}},[r("circle",{style:{strokeDashoffset:t.strokeDashoffset},attrs:{stroke:"white",fill:"transparent","stroke-dasharray":t.circumference+" "+t.circumference,"stroke-width":t.stroke,r:t.normalizedRadius,cx:t.radius,cy:t.radius}})])}),[],!1,null,"e7b81306",null).exports},props:{id:{type:String,default:null}},data:()=>({process:!1,stats:{name:null,blob:null,info:null,progress:0}}),methods:{onFilesChange(t){var e,r=this;return(e=function*(){r.process=!0;var e=yield Promise.all(Array.from(t).map(t=>(r.stats.name=t.name,function(t,e){return x.apply(this,arguments)}(t,r.stats))));r.process=!1,r.$emit("ready",{id:r.id,stats:e})},function(){var t=this,r=arguments;return new Promise((function(o,n){var l=e.apply(t,r);function c(t){w(l,o,n,c,d,"next",t)}function d(t){w(l,o,n,c,d,"throw",t)}c(void 0)}))})()}}};r(234);function F(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var P={components:{MoleculeUploadModifier:Object(n.a)(k,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"molecule_upload-modifier"},[r("div",{staticClass:"container"},[r("atom-upload",{on:{"files-change":t.onFilesChange}}),t._v(" "),t.process?r("atom-progress",{staticClass:"progress",attrs:{stroke:5,radius:60,progress:t.stats.progress}}):t._e(),t._v(" "),t.stats.blob?r("video",{staticClass:"preview",attrs:{src:t.stats.blob,controls:"",autoplay:""}}):t._e()],1),t._v(" "),r("span",[t._v(t._s(t.stats.info))]),t._v(" "),t.stats.blob?r("a",{attrs:{href:t.stats.blob,download:t.stats.name}},[t._v("Download")]):t._e()])}),[],!1,null,"5341383a",null).exports},data:()=>({conversions:[{id:F()}]}),methods:{onReady(t){this.conversions.find(e=>{var{id:r}=e;return r===t.id}).stats=t.stats,this.conversions.push({id:F()})}}},C=(r(236),Object(n.a)(P,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",t._l(t.conversions,(function(e,o){var n=e.id;return r("li",{key:o},[r("molecule-upload-modifier",{attrs:{id:n},on:{ready:t.onReady}})],1)})),0)])}),[],!1,null,"66c84a9a",null));e.default=C.exports},213:function(t,e,r){var content=r(231);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("955d913c",content,!0,{sourceMap:!1})},214:function(t,e,r){var content=r(233);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("74f673ea",content,!0,{sourceMap:!1})},215:function(t,e,r){var content=r(235);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("bd53c1c6",content,!0,{sourceMap:!1})},216:function(t,e,r){var content=r(237);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("22f4f42e",content,!0,{sourceMap:!1})},230:function(t,e,r){"use strict";r(213)},231:function(t,e,r){(e=r(22)(!1)).push([t.i,".atom-upload[data-v-4f04331c]{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:200px;background-color:#d3d3d3}.atom-upload[data-v-4f04331c]:hover{background-color:grey}.atom-upload input[data-v-4f04331c]{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;opacity:0}",""]),t.exports=e},232:function(t,e,r){"use strict";r(214)},233:function(t,e,r){(e=r(22)(!1)).push([t.i,"svg[data-v-e7b81306]{background-color:#000}circle[data-v-e7b81306]{transition:stroke-dashoffset .35s;transform:rotate(-90deg);transform-origin:50% 50%}",""]),t.exports=e},234:function(t,e,r){"use strict";r(215)},235:function(t,e,r){(e=r(22)(!1)).push([t.i,".molecule_upload-modifier .container[data-v-5341383a]{position:relative;display:flex;align-items:center;justify-content:center}.molecule_upload-modifier .preview[data-v-5341383a],.molecule_upload-modifier .progress[data-v-5341383a]{position:absolute;top:0;left:0;width:100%;height:100%}",""]),t.exports=e},236:function(t,e,r){"use strict";r(216)},237:function(t,e,r){(e=r(22)(!1)).push([t.i,"div[data-v-66c84a9a]{margin-top:100px}div ul[data-v-66c84a9a]{padding:0;margin:0;list-style:none}",""]),t.exports=e}}]);